{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"contributor-guide.html","title":"Contribute to the Vale at Red Hat project","text":""},{"location":"contributor-guide.html#vale-at-red-hat-contributor-guide","title":"Contribute to the Vale at Red Hat project","text":"<p>Learn how to contribute to the Vale at Red Hat project. This guide covers the repository structure, contribution workflow, and how to extend Vale by adding new words to the spelling rule or creating custom style rules. Whether you\u2019re fixing bugs, adding new rules, or improving documentation, this guide will help you get started.</p>"},{"location":"contributor-guide.html#contributing","title":"Join us! \u2728","text":"<p>Hello! We\u2019re happy you\u2019re thinking about joining our project. Every bit helps, whether you\u2019re fixing a typographical error, suggesting an improvement, or just getting to know the community. Got questions or need help? Ask us in the Slack channel #vale-at-red-hat, in the CoreOS workspace.</p> <p>There are many ways you can help:</p> <ul> <li> <p>Make our docs better: Use Vale to help make our documentation clearer. Check out how to set Vale up here: Installing Vale CLI.</p> </li> <li> <p>Tell us what you think: Let us know if something doesn\u2019t work right or if you have a great idea. Go here to share your thoughts: Report issues and request enhancements.</p> </li> <li> <p>Chat with us: Come talk to us on Slack in our chat room #vale-at-red-hat.</p> </li> <li> <p>Share your work: Do you want to contribute changes? Please share it with us by following this guide: Git forking workflow.</p> </li> <li> <p>Add your touch: Interested in adding rules or styles? Learn how here: Extending Styles.</p> </li> </ul>"},{"location":"contributor-guide.html#vale-at-red-hat-repository","title":"Vale at Red Hat repository","text":"<p>The vale-at-red-hat repository has resources to validate language in documentation projects with Vale:</p> <ul> <li> <p>Red Hat style for Vale in the <code>.vale/styles/RedHat</code> directory</p> </li> <li> <p>AsciiDoc style in the <code>.vale/styles/AsciiDoc</code> directory</p> </li> <li> <p>OpenShift AsciiDoc style in the <code>.vale/styles/OpenShiftAsciiDoc</code> directory</p> </li> <li> <p>Vale configuration files for usage in a local environment or by the GitHub Action.</p> </li> <li> <p>User guide</p> </li> <li> <p>Contributor guide</p> </li> </ul> Additional resources <ul> <li> <p>vale-at-red-hat repository</p> </li> </ul>"},{"location":"contributor-guide.html#extending-styles","title":"Extending styles in the vale-at-red-hat repository","text":"<p>The vale-at-red-hat repository is an open source project maintained and developed by volunteers. If you want to contribute to the Vale at Red Hat project, feel free to open a PR.</p> <p>Note</p> <p>If you use a custom Vale rule set in your Red Hat project, consider adding it to the vale-at-red-hat repository.</p> Prerequisites <ul> <li> <p>Installing Vale CLI</p> </li> <li> <p>Understanding Vale output</p> </li> <li> <p>Defining a Vale onboarding strategy</p> </li> <li> <p>You forked and cloned the <code>vale-at-red-hat</code> repository using the Git forking workflow.</p> </li> </ul> Procedure <ol> <li> <p>Configure the rule in the <code>styles</code> folder: <code>.vale/styles/&lt;Style&gt;/&lt;StyleName&gt;.yml</code>.</p> </li> <li> <p>Configure the test fixtures in the <code>fixtures</code> folder: <code>.vale/fixtures/&lt;Style&gt;/&lt;StyleName&gt;/testinvalid.adoc|testvalid.adoc</code></p> </li> <li> <p>Run the <code>vale</code> command in the test fixtures folder to ensure that the rule triggers as you expect, for example:</p> <pre><code>$ vale .</code></pre> Example output <pre><code> testinvalid.adoc\n 2:1  error  Quoted ID value is not closed.  AsciiDoc.ClosedIdQuotes\n 6:1  error  Quoted ID value is not closed.  AsciiDoc.ClosedIdQuotes\n\n\u2716 2 errors, 0 warnings and 0 suggestions in 2 files.</code></pre> </li> <li> <p>Add, commit and push your changes.</p> </li> <li> <p>Request a review or help in the Slack channel #vale-at-red-hat, in the CoreOS workspace.</p> </li> </ol> Additional resources <ul> <li> <p>Vale documentation - Styles</p> </li> <li> <p>Sample PR</p> </li> </ul>"},{"location":"","title":"Vale at Red Hat","text":""},{"location":"#vale-at-red-hat","title":"Vale at Red Hat","text":"<p>Get started with linting Red Hat documentation with Vale and the Red Hat Style for Vale.</p>"},{"location":"#requirements","title":"Requirements","text":"<p>The RedHat Style for Vale style requires Vale version 3.7 or above.</p>"},{"location":"#redhat-style-for-vale","title":"Red Hat style for Vale","text":"<p>The <code>RedHat</code> style for Vale includes language rules designed for Open Source documentation and is mandatory for Red Hat products. The Red Hat language rules originate from:</p> <ul> <li> <p>Red Hat supplementary style guide for product documentation</p> </li> <li> <p>Latest edition of the IBM Style Guide (W3id login required)</p> </li> <li> <p>Vale-compatible implementation of IBM Developer Editorial Style Guide</p> </li> <li> <p>Custom Vale open-source dictionary for American English</p> </li> </ul> <p>Important</p> <p>The <code>RedHat</code> style for Vale requires Vale version 3.7 and above.</p> <p>Vale v3 introduced a breaking change for the Vale vocabulary folder location. For Vale v3+, if you use a vocabulary with your project, ensure that the vocabulary folder matches this folder structure:</p> <pre><code>.vale/styles/config/vocabularies/&lt;project_vocab_folder&gt;</code></pre> <p>For more information see, Vocabularies.</p> Additional resources <ul> <li> <p>Installing Vale CLI</p> </li> <li> <p>Using Vale in the IDE</p> </li> <li> <p>Using Vale GitHub Action</p> </li> <li> <p>Adding Vale configuration to a project</p> </li> </ul>"},{"location":"#asciidoc-style-for-vale","title":"AsciiDoc style for Vale","text":"<p>The <code>AsciiDoc</code> style for Vale consists of rules suitable for documentation projects written in AsciiDoc. It lints common AsciiDoc syntax errors. Use the AsciiDoc style in conjunction with other Vale styles. Many of the <code>AsciiDoc</code> rules replicate features of the Visual Studio Code editor Asciidoctor plugin.</p> <p>Some of the errors that the <code>AsciiDoc</code> rules highlight include:</p> <ul> <li> <p>Open attribute blocks</p> </li> <li> <p>Open quoted ID values</p> </li> <li> <p>Images and links that are missing accessibility alt tags</p> </li> <li> <p>Missing or incorrect callouts</p> </li> <li> <p>Unterminated admonition, listing, and table blocks</p> </li> <li> <p>Unbalanced if statements</p> </li> </ul> <p>Important</p> <p>These rules are suitable for AsciiDoc source files only.</p> <p>To use the <code>AsciiDoc</code> style, do the following:</p> <ol> <li> <p>Update your project <code>.vale.ini</code> to include the the <code>AsciiDoc</code> style. Add <code>Asciidoc</code> to the <code>Packages</code> and <code>BasedOnStyles</code> fields. For example:</p> Example .vale.ini <pre><code>StylesPath = .vale/styles\n\nMinAlertLevel = suggestion\n\nPackages = RedHat, AsciiDoc\n\n# Ignore files in dirs starting with `.` to avoid raising errors for `.vale/fixtures/*/testinvalid.adoc` files\n[[!.]*.adoc]\nBasedOnStyles = RedHat, AsciiDoc</code></pre> </li> <li> <p>Sync your project that contains the updated <code>.vale.ini</code> configuration, for example:</p> <ol> <li> <p>Open a shell prompt and change to the project directory:</p> <pre><code>$ cd &lt;project_dir&gt;</code></pre> </li> <li> <p>Run the sync command to pull the new Rule packages</p> <pre><code>$ vale sync</code></pre> Example output <pre><code> SUCCESS  Downloaded package 'RedHat'\n SUCCESS  Downloaded package 'AsciiDoc'\nDownloading packages [2/2] \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 100% | 3s</code></pre> </li> </ol> </li> </ol> <p>The Vale at Red Hat repository contains the <code>AsciiDoc</code> style in the following directory:</p> <pre>.vale/styles/AsciiDoc</pre> Additional resources <ul> <li> <p>Installing Vale CLI</p> </li> <li> <p>Using Vale in the IDE</p> </li> <li> <p>Using Vale GitHub Action</p> </li> <li> <p>Adding Vale configuration to a project</p> </li> </ul>"},{"location":"#asciidoc-openshift-style-for-vale","title":"OpenShift AsciiDoc style for Vale","text":"<p>The <code>OpenShiftAsciiDoc</code> style for Vale consists of rules suitable for OpenShift documentation projects written in AsciiDoc. It lints common OpenShift AsciiDoc syntax errors as outlined in OpenShift documentation guidelines Use the OpenShiftAsciiDoc style in conjunction with other Vale styles.</p> <p>Some of the errors that the <code>OpenShiftAsciiDoc</code> rules highlight include:</p> <ul> <li> <p><code>:_additional-resources:</code> role attribute declaration</p> </li> <li> <p>Terminal code block missing a shell prompt symbol (<code>$</code>)  at the beginning of the line</p> </li> <li> <p>Missing <code>.Example output</code> title for example listing blocks</p> </li> <li> <p>ID missing the <code>{_context}</code> variable at the end of the ID</p> </li> <li> <p>modules missing the <code>:_mod-docs-content-type:</code> variable</p> </li> <li> <p>Cross references (<code>xref</code>) missing anchor IDs</p> </li> <li> <p>Cross references that use <code>.adoc</code> instead of <code>.html</code> for links</p> </li> <li> <p>Cross references missing link alt text</p> </li> </ul> <p>Important</p> <p>These rules are suitable for AsciiDoc source files only.</p> <p>To use the <code>OpenShiftAsciiDoc</code> style, do the following:</p> <ol> <li> <p>Update your project <code>.vale.ini</code> to include the the <code>OpenShiftAsciiDoc</code> style. Add <code>OpenShiftAsciiDoc</code> to the <code>Packages</code> and <code>BasedOnStyles</code> fields. For example:</p> Example .vale.ini <pre><code>StylesPath = .vale/styles\n\nMinAlertLevel = suggestion\n\nPackages = RedHat, OpenShiftAsciiDoc\n\n# Ignore files in dirs starting with `.` to avoid raising errors for `.vale/fixtures/*/testinvalid.adoc` files\n[[!.]*.adoc]\nBasedOnStyles = RedHat, OpenShiftAsciiDoc</code></pre> <p>Note</p> <p>Some rules are applicable to modules only. To use a different set of rules for modules and assemblies, create two <code>.vale.ini</code> files, one in the project root, and one in the <code>/modules</code> folder. For the root <code>.vale.ini</code> file, add the following to disable rules that don\u2019t apply to assemblies:</p> <pre><code># Disable module specific rules\nOpenShiftAsciiDoc.ModuleContainsParentAssemblyComment = NO\nOpenShiftAsciiDoc.NoNestingInModules = NO\nOpenShiftAsciiDoc.NoXrefInModules = NO</code></pre> </li> <li> <p>Sync your project that contains the updated <code>.vale.ini</code> configuration, for example:</p> <ol> <li> <p>Open a shell prompt and change to the project directory:</p> <pre><code>$ cd &lt;project_dir&gt;</code></pre> </li> <li> <p>Run the sync command to pull the new Rule packages</p> <pre><code>$ vale sync</code></pre> Example output <pre><code> SUCCESS  Downloaded package 'RedHat'\n SUCCESS  Downloaded package 'OpenShiftAsciiDoc'\nDownloading packages [2/2] \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 100% | 3s</code></pre> </li> </ol> </li> </ol> <p>The Vale at Red Hat repository contains the <code>OpenShiftAsciiDoc</code> style in the following directory:</p> <pre>.vale/styles/OpenShiftAsciiDoc</pre> Additional resources <ul> <li> <p>Installing Vale CLI</p> </li> <li> <p>Using Vale in the IDE</p> </li> <li> <p>Using Vale GitHub Action</p> </li> <li> <p>Adding Vale configuration to a project</p> </li> </ul>"},{"location":"user-guide.html","title":"Get started using Vale at Red Hat","text":""},{"location":"user-guide.html#vale-at-red-hat-user-guide","title":"Get started using Vale at Red Hat","text":"<p>Learn how to use Vale to lint your Red Hat documentation. This guide covers installing Vale and the RedHat style, analyzing documentation with various tools (CLI, IDE integrations, and desktop app), understanding and reporting Vale output, and integrating Vale into your workflow with GitHub Actions, GitLab CI, and other continuous integration services.</p>"},{"location":"user-guide.html#introduction","title":"Introduction","text":"<p>Vale is a command-line tool that allows you to check your writing for grammar and spelling errors against a set of style rules. It\u2019s open source, fast, and highly customizable.</p> <p>Vale can help you improve your content. For example:</p> <ul> <li> <p>You can measure how well your content complies with the style guide.</p> </li> <li> <p>You can fix style issues before you create a PR.</p> </li> <li> <p>You can perform more consistent peer reviews.</p> </li> <li> <p>You can write content that is more easily localized.</p> </li> </ul> Additional resources <ul> <li> <p>Red Hat style for Vale</p> </li> <li> <p>Glossary</p> </li> <li> <p>Installing Vale CLI</p> </li> <li> <p>Defining a Vale onboarding strategy</p> </li> </ul>"},{"location":"user-guide.html#installing-vale-cli","title":"Installing Vale","text":"<p>Install the Vale linter to begin reviewing content for style and structure.</p> <p>Important</p> <p>If you are working in an established project that has already implemented Vale, you do not need to create a new <code>vale.ini</code>. The project will already have a <code>vale.ini</code> configuration.</p> Prerequisites <ul> <li> <p>Install the Asciidoctor Ruby gem.</p> </li> <li> <p>If you have previously installed Vale, you can check what version you are currently running. Run the following command:</p> <pre><code>$ vale --version</code></pre> Example output <pre><code>vale version 3.6.1</code></pre> </li> </ul> Procedure <ol> <li> <p>Install Vale. For RHEL or Fedora Linux operating systems, run the following command:</p> <pre><code>$ sudo dnf copr enable mczernek/vale &amp;&amp; sudo dnf install vale</code></pre> <p>On macOS, run:</p> <pre><code>$ brew install vale</code></pre> </li> <li> <p>Verify the Vale install location. You might need to update your text editor with this value.</p> <pre><code>$ which vale</code></pre> Example output <pre><code>/usr/bin/vale</code></pre> <p>Note</p> <p>For other operating systems, see Installing Vale.</p> </li> </ol> Additional resources <ul> <li> <p>Understanding Vale output</p> </li> <li> <p>Defining a Vale onboarding strategy</p> </li> <li> <p>Installing Vale CLI</p> </li> <li> <p>Configuring Vale CLI</p> </li> <li> <p>Install the Visual Studio Code extension for Vale, \"Vale VSCode\" (Important: This new extension replaces the deprecated \"vale-server\" extension.)</p> </li> <li> <p>Intellijel IDE + Vale</p> </li> <li> <p>Sublime Text + Vale</p> </li> <li> <p>Vale configuration generator</p> </li> </ul>"},{"location":"user-guide.html#installing-redhat-style-for-vale","title":"Installing the Red Hat style for Vale globally","text":"<p>You can install the <code>RedHat</code> style for Vale globally.</p> <p>Important</p> <p>The <code>RedHat</code> style for Vale requires Vale version 3.7 and above.</p> <p>Important</p> <p>Some product documentation repositories, such as <code>openshift-docs</code>, have an existing <code>.vale.ini</code> file. When you run <code>vale</code> on content files in the repository directory, the <code>&lt;repository&gt;/.vale.ini</code> file overrides the <code>$HOME/.vale.ini</code> file. For more information, see Vale configuration reference.</p> <p>Run <code>vale sync</code> in your project directory to download the Vale rules relative to that project directory.</p> Procedure <ol> <li> <p>To use Vale with the <code>RedHat</code> package system-wide, create the following <code>.vale.ini</code> configuration file in your <code>$HOME</code> directory.</p> Example .vale.ini <pre><code>StylesPath = .vale/styles\n\nMinAlertLevel = suggestion\n\nIgnoredScopes = code, tt, img, url, a, body.id\n\nSkippedScopes = script, style, pre, figure, code, tt, blockquote, listingblock, literalblock\n\nPackages = RedHat\n\n[*.adoc]\n\nBasedOnStyles = RedHat\n\n[*.md]\n\nBasedOnStyles = RedHat\n\n# Ignore code surrounded by backticks or plus sign, parameters defaults, URLs.\nTokenIgnores = (\\x60[^\\n\\x60]+\\x60), ([^\\n]+=[^\\n]*), (\\+[^\\n]+\\+), (http[^\\n]+\\[)\n\n# Match INI files. See: https://docs.errata.ai/vale/scoping\n[*.ini]\n\nBasedOnStyles = RedHat\n\n# Ignore code surrounded by backticks or plus sign, parameters defaults, URLs.\nTokenIgnores = (\\x60[^\\n\\x60]+\\x60), ([^\\n]+=[^\\n]*), (\\+[^\\n]+\\+), (http[^\\n]+\\[)\n\n# Disabling rules (NO)\nRedHat.CaseSensitiveTerms = NO\nRedHat.ConfigMap = NO\nRedHat.Definitions = NO\nRedHat.Slash = NO\nRedHat.Spacing = NO\nRedHat.Spelling = NO\nRedHat.TermsSuggestions = NO</code></pre> </li> <li> <p>Sync the <code>RedHat</code> package to your computer.</p> <pre><code>$ vale sync</code></pre> Example output <pre><code>$ vale sync\n SUCCESS  Downloaded package 'RedHat'\nDownloading packages [1/1]</code></pre> <p>Tip</p> To get the latest updates, run <code>vale sync</code> regularly.  </li> </ol> Verification <ol> <li> <p>Run <code>vale</code> against a source file:</p> <pre><code>$ cd &lt;project_directory&gt;\n$ vale &lt;filename&gt;</code></pre> Example output <pre><code>$ vale modules/ztp-creating-the-site-secrets.adoc\n\n modules/ztp-creating-the-site-secrets.adoc\n 10:222  error       Use 'Assisted Installer'        Vale.Terms\n                     instead of 'assisted\n                     installer'.\n 14:13   suggestion  'are referenced' is passive     RedHat.PassiveVoice\n                     voice. In general, use active\n                     voice. Consult the style guide\n                     for acceptable use of passive\n                     voice.\n\n\u2716 2 errors, 0 warnings and 1 suggestion in 1 file.</code></pre> </li> </ol>"},{"location":"user-guide.html#analyze-with-vale","title":"Analyzing your content with Vale","text":"<p>To analyze your content, you can run Vale from the command line, within your IDE, and by using the Vale-at-Red-Hat online web app.</p> Analyzing your content locally <p>For more information, see the following topics:</p> <ul> <li> <p>Using Vale CLI</p> </li> <li> <p>Understanding Vale output</p> </li> <li> <p>Using Vale in the IDE</p> </li> <li> <p>Using Vale app</p> </li> </ul> Git workflow integration <p>You can also analyze your content by integrating Vale into the Git workflow of a shared content project. For more information, see the following topics:</p> <ul> <li> <p>Using Vale GitHub Action</p> </li> <li> <p>Using Vale with a continuous integration service</p> </li> <li> <p>Reporting Vale alerts</p> </li> </ul>"},{"location":"user-guide.html#using-vale-app","title":"Analyzing your content by using the Vale-at-Red-Hat web app","text":"<p>To get familiar with Vale without installing the Vale software on your local client, you can use the Vale-at-Red-Hat web app. This web app is preconfigured to analyze your content by using Red Hat\u2019s style rules.</p> Prerequisites <ul> <li> <p>You must have Docker or Podman installed on your system.</p> </li> </ul> Procedure <ol> <li> <p>Run the following command to download the image and start the container:</p> <pre><code>docker run --rm -p 8080:8080 quay.io/ganelson/vale-online-app</code></pre> </li> <li> <p>Open your browser and go to <code>http://localhost:8080</code>.</p> </li> <li> <p>Paste the content you want to check in the text area and click on the <code>Lint</code> button.</p> <p>By default, the Vale-at-Red-Hat web app displays warnings and errors only. You can also view suggestions by using the options menu on the left.</p> </li> <li> <p>To close the app, press <code>Ctrl+C</code> in the terminal where the container is running.</p> </li> </ol>"},{"location":"user-guide.html#using-vale-cli","title":"Analyzing your content by running Vale from the command line","text":"<p>To analyze your content to see how it aligns with the Red Hat supplementary and IBM style guides, you can run Vale from the command line. You can run Vale on individual files or an entire directory.</p> <p>Vale analyzes the specified content according to the command options and the style preferences that you have specified in your <code>.vale.ini</code> configuration file.</p> Prerequisites <ul> <li> <p>You\u2019ve installed a recent release Vale on your system.</p> </li> <li> <p>You\u2019ve installed a recent release of Asciidoctor on your system.</p> </li> <li> <p>You\u2019ve installed and configured Vale CLI, setting both <code>Packages</code>  and <code>BasedOnStyles</code> to  <code>RedHat</code> in the <code>.vale.ini</code> file.</p> </li> <li> <p>You\u2019ve gotten the latest <code>RedHat</code> style by running the <code>vale sync</code> command.</p> </li> </ul> Procedure <ol> <li> <p>Start a terminal session and go to the content folder containing the files that you want to analyze.</p> </li> <li> <p>Enter the <code>vale</code> linter command by using the following syntax:</p> <pre><code>$ vale &lt;target_file_name&gt; --&lt;option&gt; &gt; &lt;output_file_name&gt;</code></pre> <p>Where:</p> <ul> <li> <p><code>&lt;target_file_name&gt;</code> is the name of the content file that you want to analyze. Or use the <code>*</code> wildcard to analyze all files in the current folder.</p> </li> <li> <p><code>&lt;option&gt;</code> is an option you can use to tailor the alerts or linter output. For more information, see Example use cases for running the Vale command.</p> </li> <li> <p><code>&lt;output_file_name&gt;</code> is an option that you can append to the command to pipe the output to a specific file instead of at the command line.</p> </li> </ul> </li> </ol> Verification <p>Review the list of suggestions, warnings, and errors that Vale outputs to the command line. See Understanding Vale output.</p> Example use cases for running the Vale command <ul> <li> <p>To verify the style compliance of a file in the current folder called <code>example.adoc</code>, enter:</p> <pre><code>$ vale example.adoc</code></pre> </li> <li> <p>To verify the style compliance of all files in the current folder and turn off text wrapping in the command-line output, enter:</p> <pre><code>$ vale *.* --no-wrap</code></pre> <p>Note</p> <p>If you are expecting a large quantity of output in the report, use the <code>--no-wrap</code> option to make the results easier to read from the command line.</p> </li> <li> <p>To verify the style compliance of a file named <code>example.adoc</code> and remove suggestions from the output to retrieve warnings and errors, enter:</p> <pre><code>$ vale example.adoc --minAlertLevel=warning</code></pre> </li> <li> <p>To verify the style compliance of a file named <code>example.adoc</code> and report errors only, enter:</p> <pre><code>$ vale example.adoc --minAlertLevel=error</code></pre> </li> <li> <p>To verify the style compliance of a file named <code>example.adoc</code> and output errors only into a file in JSON format, enter:</p> <pre><code>$ vale example.adoc --minAlertLevel=error --output=\"JSON\" | tee ~/test.json</code></pre> </li> <li> <p>To verify the style compliance of a file named <code>example.adoc</code> and output errors only into a file in JSON format, enter:</p> </li> <li> <p>To get help including a list of valid options for running Vale, enter:</p> <pre><code>$ vale --help</code></pre> </li> </ul> Additional resources <p>Using Vale in the IDE</p>"},{"location":"user-guide.html#understanding-vale-output","title":"Understanding Vale output","text":"<p>As a technical writer, you typically run <code>vale</code> on the command-line against a content file:</p> <pre>$ cd openshift-docs/logging/troubleshooting/\n$ vale cluster-logging-troubleshooting-for-critical-alerts.adoc</pre> <p>The resulting command output gives you a list of suggestions, warnings, and errors based on customizable styles and vocabulary.</p> <p>As a writer, you review the output, decide which issues are valid, and update your content accordingly.</p> Example 1. <code>vale</code> command line output example <pre>\n238:27 error      Did you really mean        Vale.Spelling\n                    'rebalancing'?\n244:6  suggestion Verify your use of 'there  IBM.Usage\n                  are' with the word usage\n                  guidelines.\n244:38 warning    Consider using 'available' CheDocs.CommonTerms\n                  rather than 'present'\n</pre>"},{"location":"user-guide.html#understanding-the-vale-command-line-tool-output-presentation","title":"Understanding the <code>vale</code> command line tool output presentation","text":"First column <p>The line and character number of the issue, such as: <code>244:6</code>.</p> Second column <p>The alert level, such as <code>error</code>, <code>suggestion</code>, or <code>warning</code>. See: Understanding Vale alert levels</p> Third column <p>The rule message, such as: <code>Verify your use of 'there are'</code></p> Fourth column <p>The name of the style and of the rule, such as: <code>IBM.Usage</code>.</p>"},{"location":"user-guide.html#understanding-vale-alert-levels","title":"Understanding Vale alert levels","text":"error <p>Fix the language error. This alert level includes Spelling errors, which are frequently happening on products and tools names. In that case, consider creating a vocabulary for a project or extending styles.</p> warning <p>Consider fixing the language error.</p> suggestion <p>Heads up! Verify the usage depending on the context. Content containing suggestions is fine.</p> Additional resources <ul> <li> <p>Defining a Vale onboarding strategy</p> </li> <li> <p>Creating a vocabulary for a project</p> </li> <li> <p>Extending styles</p> </li> </ul>"},{"location":"user-guide.html#collating-vale-output","title":"Collating Vale output","text":"<p>You can use a template to collate the results from running <code>vale</code> on the command line. This collated output is non-repetitive and might be easier to use.</p> <p>The <code>RedHat</code> style includes a <code>collate-output.tmpl</code> template you can specify when you run the <code>vale</code> command. For example:</p> <pre>$ cd openshift-docs/\n$ vale --output='.vale/styles/RedHat/collate-output.tmpl' modules/about-crio.adoc</pre> <p>The resulting command output collates any repetitive the suggestions, warnings, or errors.</p> Example <code>vale</code> output from the <code>collate-output.tmpl</code> template <pre> modules/about-crio.adoc\n\n 7:9,11:107  suggestion  Define acronyms and             RedHat.Definitions\n                         abbreviations (such as 'CRI')\n                         on first occurrence if they're\n                         likely to be unfamiliar.\n\n0 errors, 0 warnings and 2 suggestions in 1 file.</pre> <p>Note</p> <p>When you use the <code>--output</code> option, other options such as <code>--minAlertLevel</code> might not work.</p>"},{"location":"user-guide.html#understanding-the-vale-output","title":"Understanding the <code>vale</code> output","text":"First column <p>A comma-separated list of each instance where the issue appears: <code>7:9,11:107</code>.</p> Second column <p>The alert level, such as <code>error</code>, <code>suggestion</code>, or <code>warning</code>. See: Understanding Vale alert levels</p> Third column <p>The rule message, such as: <code>Define acronyms and abbreviations (such as 'CRI') on first occurrence if they\u2019re likely to be unfamiliar.</code></p> Fourth column <p>The name of the style and rule, such as: <code>RedHat.Definitions</code>.</p> Additional resources <ul> <li> <p>Understanding Vale output</p> </li> <li> <p>The <code>--output</code> topic in the Vale manual</p> </li> </ul>"},{"location":"user-guide.html#using-vale-in-the-ide","title":"Using Vale in the IDE","text":"<p>Consider using Vale in your IDE when:</p> <ul> <li> <p>You want a direct feedback in your editor.</p> </li> <li> <p>You use a supported IDE, such as Visual Studio Code. See: How to integrate Vale with other tools and services.</p> </li> </ul> Prerequisites <ul> <li> <p>Vale CLI is installed and configured. See Installing Vale CLI.</p> </li> <li> <p>Visual Studio Code is installed.</p> </li> </ul> Procedure <ol> <li> <p>In  Visual Studio Code, install the latest \"Vale VSCode\" extension by Chris Chinchilla.</p> </li> <li> <p>Restart Visual Studio Code.</p> </li> </ol> <p>Note</p> Avoid installing the earlier obsolete \"Vale\" extension by errata-ai, which is very similar in appearance to the latest extension.  Verification <ol> <li> <p>Open a content file causing vale alerts.</p> </li> <li> <p>Open the Problems view and search for vale alerts in it.</p> </li> </ol> Additional resources <ul> <li> <p>\"Vale VSCode\" extension by Chris Chinchilla</p> </li> <li> <p>How to integrate Vale with other tools and services</p> </li> </ul>"},{"location":"user-guide.html#glossary","title":"Glossary","text":""},{"location":"user-guide.html#vale-command-line-tool","title":"Vale command-line tool","text":"<p>The <code>vale</code> command-line tool brings code-like linting to prose. Use it to validate language on your local environment or in continuous integration services.</p> Additional resources <ul> <li> <p>Installing Vale CLI</p> </li> <li> <p>Using Vale with a continuous integration service</p> </li> <li> <p>Vale documentation - CLI</p> </li> </ul>"},{"location":"user-guide.html#vale-configuration-file","title":"Vale configuration file","text":"<p>The Vale configuration file <code>.vale.ini</code> defines:</p> <ul> <li> <p>File names patterns to match files to validate</p> </li> <li> <p>Active styles and vocabulary</p> </li> <li> <p>Custom content patterns to change scoping behavior</p> </li> </ul> Additional resources <ul> <li> <p>Installing Vale CLI</p> </li> <li> <p>Adding Vale configuration to a project</p> </li> <li> <p>Vale documentation - Configuration</p> </li> </ul>"},{"location":"user-guide.html#vale-rule","title":"Vale rule","text":"<p>A Vale rule is a YAML file defining:</p> <ul> <li> <p>a language issue, including spelling issues</p> </li> <li> <p>a proposed solution</p> </li> <li> <p>a link to more information.</p> </li> </ul> Additional resources <ul> <li> <p>Red Hat style for Vale</p> </li> <li> <p>Vale documentation - Styles</p> </li> </ul>"},{"location":"user-guide.html#vale-style","title":"Vale style","text":"<p>A Vale style is a directory containing a collection of rules.</p> Additional resources <ul> <li> <p>Red Hat style for Vale</p> </li> <li> <p>Vale documentation - Styles</p> </li> </ul>"},{"location":"user-guide.html#vale-vocabulary","title":"Vale vocabulary","text":"<p>In a project, a Vale vocabulary is an optional additional directory containing lists of accepted and rejected words, applying to all styles.</p> <p>Consider creating a vocabulary for a project when:</p> <ul> <li> <p>Missing words in the Vale dictionary are causing Spelling errors</p> </li> <li> <p>The word is too specific to benefit to other projects.</p> </li> </ul> <p>Consider Extending styles when:</p> <ul> <li> <p>Missing words in the Vale dictionary are causing Spelling errors</p> </li> <li> <p>Adding the word will benefit to other projects. For example: product and tool names, common terms specific to the software industry.</p> </li> </ul> Additional resources <ul> <li> <p>Creating a vocabulary for a project</p> </li> <li> <p>Extending styles</p> </li> <li> <p>Vale documentation - Vocabulary</p> </li> </ul>"},{"location":"user-guide.html#reporting-vale-alerts","title":"Generating extended Vale alerts reports","text":"<p>Consider generating extended Vale alerts reports about a Git repository to:</p> <ul> <li> <p>Measure language compliance in a repository</p> </li> <li> <p>Gather data before Defining a Vale onboarding strategy</p> </li> </ul> <p>These reports use the Vale report in JSON format and additional information such as the word count.</p> <p>On bigger repositories, with more than 1000000 words, consider building your own reporting tool to chunk the task in smaller pieces.</p> Prerequisites <ul> <li> <p>The <code>vale</code> tool is installed and configured. See Installing Vale CLI.</p> </li> <li> <p>The <code>jq</code> tool is installed. See Downloading <code>jq</code>.</p> </li> </ul> Procedure <ol> <li> <p>Generate vale alerts reports for &lt;location&gt;:</p> <pre><code>$ ./tools/vale_report.sh &lt;location&gt;</code></pre> </li> <li> <p>The script creates following files for each Git repository found at &lt;location&gt;:</p> <code>vale-report_&lt;repository&gt;_-list.log</code> <p>List of AsciiDoc files considered for the report.</p> <code>vale-report_&lt;repository&gt;_-wordcount.log</code> <p>Word count for all files in the file list. Use this information to compare the number of alerts between repositories.</p> <code>vale-report_&lt;repository&gt;_.json</code> <p>Vale report in JSON format. Use the <code>jq</code> tool to query the results.</p> <code>vale-report_&lt;repository&gt;_.severity</code> <p>Breakdown of alerts by severity.</p> <code>vale-report_&lt;repository&gt;_.rules</code> <p>Breakdown of alerts by rules.</p> <code>vale-report_&lt;repository&gt;_.Spelling.txt</code> <p>Breakdown of <code>Spelling</code> alerts.</p> </li> </ol> Additional resources <ul> <li> <p>Understanding Vale output</p> </li> <li> <p>Defining a Vale onboarding strategy</p> </li> </ul>"},{"location":"user-guide.html#defining-a-vale-onboarding-strategy","title":"Defining a Vale onboarding strategy","text":"<p>Embracing a linter in a project is a long journey. The full Vale report can be discouraging at first. Remember that:</p> <ul> <li> <p>You are in charge: review the report and decide what is useful to you.</p> </li> <li> <p>The styles are not perfect or complete.</p> </li> <li> <p>Assess the maturity of the project.</p> </li> </ul> Prerequisites <ul> <li> <p>Reporting Vale alerts</p> </li> <li> <p>Understanding Vale output</p> </li> </ul>"},{"location":"user-guide.html#assess-the-project-maturity","title":"Assess the project maturity","text":"Zero Vale errors <p>The project is compliant with the <code>RedHat</code> style. Consider integration with a continuous integration service using the defaults from the <code>vale-at-red-hat</code> repository.</p> <ul> <li> <p>Using Vale GitHub Action</p> </li> <li> <p>Using Vale with a continuous integration service</p> </li> </ul> Under 100 Vale errors <p>The project is almost compliant with the <code>RedHat</code> style. Consider integration with a continuous integration service using the defaults from the <code>vale-at-red-hat</code> repository. Consider massively fixing the few errors.</p> Over 100 Vale errors <p>The project is big or poorly compliant with the <code>RedHat</code> style. Consider further investigation to understand the issue.</p>"},{"location":"user-guide.html#start-small","title":"Start small","text":"<ul> <li> <p>To onboard a collection of repositories, start by the repository with the smallest word count. See Reporting Vale alerts</p> </li> </ul>"},{"location":"user-guide.html#focus-on-errors","title":"Focus on errors","text":"<ul> <li> <p>Report only errors. Don\u2019t report warnings and suggestions.</p> <pre>$ vale --minAlertLevel=error .</pre> </li> </ul>"},{"location":"user-guide.html#expect-false-positives","title":"Expect false positives","text":"<ul> <li> <p>The <code>RedHat</code> style has been thoroughly tested on a corpus of 113000 words. You can expect false positives when applying the style to a new corpus. Consider contributing to the style.</p> </li> </ul>"},{"location":"user-guide.html#collect-data","title":"Collect data","text":"<ul> <li> <p>Reporting Vale alerts</p> </li> <li> <p>Use the results to identify the rule creating the most errors, and work on that rule. Most probably, start with the Spelling rule.</p> </li> <li> <p>Report alerts for one single rule. Maybe use custom output templates to generate a custom report. See Vale documentation - JSON output of checks and Vale documentation - <code>--output</code>. Consider aggregating alerts to identify the most common. Examine the report to distinguish legit alerts from false positives. Use the curated list of false positives to report an issue.</p> <p>For example, for the Spelling rule, create a report containing the list of all words reported by the Spelling rule, and count their occurrences. Use that list to differentiate false positives from legit errors. Use the curated list to report an issue.</p> </li> </ul>"},{"location":"user-guide.html#fix-the-alerts","title":"Fix the alerts","text":"<ul> <li> <p>Run campaigns focused on one target such as: fix all errors, fix all occurrences of a given rule.</p> </li> <li> <p>Disable a rule that is irrelevant in the file context. See: Vale - Markup-based configuration</p> <pre>pass:[&lt;!-- vale RedHat.Spelling = NO --&gt;]\n\nThe Spelling rule is ignored for this line.\n\npass:[&lt;!-- vale RedHat.Spelling = YES --&gt;]\n\nThe Spelling rule is active for this line.</pre> </li> </ul>"},{"location":"user-guide.html#display-less-alerts-without-changing-the-configuration-file","title":"Display less alerts without changing the configuration file","text":"<ul> <li> <p>Display only errors. Don\u2019t display warnings and suggestions.</p> <pre>$ vale --minAlertLevel=error .</pre> </li> <li> <p>Display only errors and warnings. Don\u2019t display suggestions.</p> <pre>$ vale --minAlertLevel=warning .</pre> </li> </ul>"},{"location":"user-guide.html#contributing-to-the-vale-at-red-hat-repository","title":"Contributing to the vale-at-red-hat repository","text":"<ul> <li> <p>Extending styles</p> </li> </ul>"},{"location":"user-guide.html#decrease-the-number-of-alerts","title":"Decrease the number of alerts","text":"<ul> <li> <p>Creating a vocabulary for a project</p> </li> <li> <p>Altering rules severity or disabling rules for the project. See adding Vale configuration to a project and Vale documentation - configuration.</p> <pre>RedHat.Annotations = NO\nRedHat.Slash = warning\nRedHat.Usage = suggestion</pre> </li> <li> <p>Creating an additional style for the project. See adding Vale configuration to a project.</p> </li> </ul> Additional resources <ul> <li> <p>Installing Vale CLI</p> </li> <li> <p>Understanding Vale output</p> </li> </ul>"},{"location":"user-guide.html#adding-vale-configuration-to-a-project","title":"Adding Vale to a project","text":"<p>Consider adding Vale configuration files to a project to:</p> <ul> <li> <p>Simplify Vale usage by anyone in a project</p> </li> <li> <p>Use Vale in continuous integration</p> </li> </ul> Prerequisites <ul> <li> <p>Install the Vale command-line tool.</p> </li> </ul> Procedure <ol> <li> <p>Create a <code>.vale.ini</code> configuration file in the root directory for your documentation project:</p> Example .vale.ini <pre><code>StylesPath = .vale/styles\n\nMinAlertLevel = suggestion\n\nIgnoredScopes = code, tt, img, url, a, body.id\n\nSkippedScopes = script, style, pre, figure, code, tt, blockquote, listingblock, literalblock\n\nPackages = RedHat\n\n[*.adoc]\n\nBasedOnStyles = RedHat\n\n[*.md]\n\nBasedOnStyles = RedHat\n\n# Ignore code surrounded by backticks or plus sign, parameters defaults, URLs.\nTokenIgnores = (\\x60[^\\n\\x60]+\\x60), ([^\\n]+=[^\\n]*), (\\+[^\\n]+\\+), (http[^\\n]+\\[)\n\n# Match INI files. See: https://docs.errata.ai/vale/scoping\n[*.ini]\n\nBasedOnStyles = RedHat\n\n# Ignore code surrounded by backticks or plus sign, parameters defaults, URLs.\nTokenIgnores = (\\x60[^\\n\\x60]+\\x60), ([^\\n]+=[^\\n]*), (\\+[^\\n]+\\+), (http[^\\n]+\\[)\n\n# Disabling rules (NO)\nRedHat.CaseSensitiveTerms = NO\nRedHat.ConfigMap = NO\nRedHat.Definitions = NO\nRedHat.Slash = NO\nRedHat.Spacing = NO\nRedHat.Spelling = NO\nRedHat.TermsSuggestions = NO</code></pre> <p>Important</p> <p>By default, the <code>.vale.ini</code> file sets <code>MinAlertLevel = suggestion</code>. Consider changing <code>MinAlertLevel</code> to <code>warning</code> or <code>error</code> for new projects.</p> <p>For a complete list of possible configuration options, see configuration options for .vale.ini.</p> <p>Review the following Red Hat project <code>.vale.ini</code> files as reference for developing your own Vale configuration:</p> <ul> <li> <p>openshift-docs</p> </li> <li> <p>che-docs</p> </li> <li> <p>https://github.com/redhat-developer/red-hat-developers-documentation-rhdh/blob/main/.vale.ini</p> </li> <li> <p>quarkusio</p> </li> </ul> <ul> <li> <p>Run the <code>vale sync</code> command from the repository folder to download the rules to the project directory. For example:</p> <pre><code>$ cd __&lt;project_directory&gt;__\n$ vale sync\n SUCCESS  Downloaded package 'RedHat'\nDownloading packages [1/1]</code></pre> </li> </ul> </li> </ol> Verification <ul> <li> <p>Run the <code>vale</code> command on one of your content files.</p> <pre><code>$ cd &lt;project_directory&gt;\n$ vale &lt;filename&gt;</code></pre> </li> </ul> Additional resources <ul> <li> <p>Defining a Vale onboarding strategy</p> </li> </ul>"},{"location":"user-guide.html#creating-a-vocabulary-for-a-project","title":"Creating a vocabulary for a project","text":"<p>Consider adding a vocabulary to your project when:</p> <ul> <li> <p>Missing words in the Vale dictionary cause spelling errors.</p> </li> <li> <p>The word is too specific for other projects.</p> </li> </ul> Prerequisites <ul> <li> <p>Installing Vale CLI</p> </li> <li> <p>Understanding Vale output</p> </li> <li> <p>Defining a Vale onboarding strategy</p> </li> </ul> Procedure <ul> <li> <p>Create or edit the vocabulary for your project: create or edit the <code>.vale/styles/Vocab/&lt;Project&gt;/accept.txt</code> file and add the missing word. Ensure the entry is not case-sensitive.</p> Entry in the vocabulary, not case-sensitive <pre>[Pp]odman</pre> </li> <li> <p>Register the vocabulary in the <code>.vale.ini</code> file</p> <pre><code>Vocab = &lt;Project&gt;</code></pre> </li> </ul> Verification <ul> <li> <p>Run the <code>vale</code> command on a content file containing the word that is missing.</p> <pre><code>$ cd &lt;project_directory&gt;\n$ vale &lt;filename&gt;</code></pre> </li> </ul> Additional resources <ul> <li> <p>Vale documentation - Vocabularies</p> </li> </ul>"},{"location":"user-guide.html#using-vale-github-action","title":"Integrating Vale into your Git workflow by using a GitHub Action","text":"<p>Integrate Vale into your GitHub content development workflow by creating a GitHub Action that uses the GitHub Action for Vale.</p> <p>By creating a GitHub Action workflow for Vale, you can configure how Vale runs: you can set Vale flags and specify which Git workflow events trigger Vale jobs. For example, you can decide to:</p> <ul> <li> <p>Run Vale when a contributor creates a pull request.</p> </li> <li> <p>Run Vale on only the changes.</p> </li> <li> <p>Allow the merging of pull requests if the report has errors.</p> </li> <li> <p>Block the merging of pull requests if the report has errors.</p> </li> </ul> <p>For a full list of supported configuration options, see Vale GitHub Action.</p> Prerequisites <ul> <li> <p>Your content repository is on GitHub. For GitLab repos, see Defining a Vale onboarding strategy. WARNING: Because of GitHub token permissions, the Vale GitHub Action cannot post annotations to pull requests from a forked repository.</p> </li> <li> <p>You have defined a continuous integration strategy for your project.</p> </li> <li> <p>You have reviewed and bookmarked the official <code>vale-action</code> information at errata.ai.</p> </li> </ul> Procedure <ol> <li> <p>Copy <code>.vale.ini</code> from vale-at-red-hat into the root of your GitHub repository and configure your style preferences.</p> </li> <li> <p>In the <code>.github/workflows/</code> folder of your project repository, create a YAML file called <code>vale.yml</code>.</p> <ul> <li> <p>Tip: You can also click Actions and use the GitHub Actions wizard to initialize the vale.yml file and validate your configuration.</p> </li> </ul> </li> <li> <p>Add the following configuration to the <code>.github/workflows/lint-with-vale.yml</code> file:</p> <pre><code>---\nname: Linting with Vale on pull request\non: [pull_request]\n\njobs:\n  vale:\n    name: Linting with Vale\n    runs-on: ubuntu-22.04\n    steps:\n      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2\n      - name: Install Asciidoctor\n        run: sudo apt-get install -y asciidoctor\n      - uses: errata-ai/vale-action@d89dee975228ae261d22c15adcd03578634d429c # v2.1.1\n        with:\n          filter_mode: diff_context\n          vale_flags: \"--no-exit --minAlertLevel=error --glob=*.adoc\"\n          reporter: github-pr-review\n          fail_on_error: true\n        env:\n          # Required, set by GitHub actions automatically:\n          # https://docs.github.com/en/actions/security-guides/automatic-token-authentication#about-the-github_token-secret\n          GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}\n          REVIEWDOG_GITHUB_API_TOKEN: ${{secrets.GITHUB_TOKEN}}</code></pre> </li> <li> <p>Optional: Change the default configuration to suit the requirements of your project. For example, if you want to block PR merges when Vale errors exist, set <code>fail_on_error</code> to true.</p> </li> <li> <p>Commit and push the GitHub Action to the main branch of your GitHub repository and rebase your other branches.</p> </li> </ol> Verification <p>To test your GitHub Action, change or add some content files and submit a pull request to the main docs branch. Vale will run and report an expandable status summary in the PR.</p>"},{"location":"user-guide.html#configuring-vale-for-gitlab-code-quality-reports","title":"Enabling Vale GitLab Code Quality reports for merge requests","text":"<p>Use this procedure to enable the GitLab Code Quality widget for Vale. The widget reports style compliance issues in the GitLab merge request interface.</p> Prerequisites <ul> <li> <p>Introduction to Vale</p> </li> <li> <p>Adding Vale configuration to a project</p> </li> <li> <p>Defining a Vale onboarding strategy</p> </li> </ul> Procedure <ol> <li> <p>Create a <code>.gitlab-ci.yml</code> file at the repository root with the following content:</p> <pre><code>image: node:16-alpine\n\nstages:\n  - test\n\ncode_quality:\n  stage: test\n  image:\n    name: jdkato/vale:latest\n    entrypoint: [\"\"]\n  tags: [shared]\n  before_script:\n    - apk update &amp;&amp; apk add git\n    - vale sync # Pull down VRH rules package specified in vale.ini\n  script:\n    # Get complete list of *.adoc files in the repository\n    - FILES=$(find . -type f -name \"*.adoc\") \n    # Clean out conditions for wider Vale coverage in AsciiDoc\n    - sed -i -e 's/ifdef::.*\\|ifndef::.*\\|ifeval::.*\\|endif::.*/ /' ${FILES} \n    # Use a template to rearrange the vale JSON output\n    # Run vale with --no-exit to pass the build with errors\n    - vale ${FILES} --minAlertLevel=error --glob='*.adoc' --output=\"$(pwd)/vale-json.tmpl\" &gt; gl-code-quality-report.json\n  artifacts:\n    reports:\n      codequality: gl-code-quality-report.json\n  rules:\n    - if: $CODE_QUALITY_DISABLED\n      when: never\n    - if: $CI_PIPELINE_SOURCE == \"merge_request_event\" # Run code quality job in merge request pipelines\n    - if: $CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH # Run code quality job in pipelines on the default branch (but not in other branch pipelines)\n    - if: $CI_COMMIT_TAG # Run code quality job in pipelines for tags</code></pre> <ol><li>Update the <code>$FILES</code> step to match your documentation source type, for example, use <code>*.md</code> for markdown.</li><li>Optional. Vale does not lint inside AsciiDoc conditional statements unless you pass the conditional variables as Asciidoctor attributes. You can bypass this limitation in the CI by temporarily removing <code>ifdef</code> and <code>ifeval</code> directives before linting with Vale. This step is only useful for AsciiDoc, and can be removed for other source formats.</li></ol> </li> <li> <p>Create a <code>vale-json.tmpl</code> file at the repository root:</p> <pre><code>{{- /* Modify Vale output https://docs.errata.ai/vale/cli#--output */ -}}\n\n{{- /* Keep track of our various counts */ -}}\n\n{{- $e := 0 -}}\n{{- $w := 0 -}}\n{{- $s := 0 -}}\n{{- $f := 0 -}}\n\n{{- /* Range over the linted files */ -}}\n\n[\n{{- $first := true -}}\n{{- range $jdx, $file := .Files -}}\n  {{- $f = add1 $f -}}\n  {{- $path := $file.Path -}}\n\n  {{- /* Range over the file's alerts */ -}}\n  {{- range $idx, $a := $file.Alerts -}}\n    {{- if not $first -}},{{- end -}}\n    {{- $first = false -}}\n\n    {{- $error := \"\" -}}\n    {{- if eq $a.Severity \"error\" -}}\n      {{- $error = \"critical\" -}}\n      {{- $e = add1 $e -}}\n    {{- else if eq $a.Severity \"warning\" -}}\n      {{- $error = \"major\" -}}\n      {{- $w = add1 $w -}}\n    {{- else -}}\n      {{- $error = \"minor\" -}}\n      {{- $s = add1 $s -}}\n    {{- end}}\n\n    {{- /* Variables setup */ -}}\n\n    {{- $loc := printf \"%d\" $a.Line -}}\n    {{- $check := printf \"%s\" $a.Check -}}\n    {{- $message := printf \"%s\" $a.Message -}}\n\n    {{- /* Compute the Base64 encoded fingerprint string */ -}}\n    {{- $hashInput := printf \"%s:%s:%s\" $path $loc $message -}}\n    {{- $Base64Encoded := b64enc $hashInput -}}\n\n    {{- /* Output */ -}}\n    {\n      \"description\": \"{{$check}}: {{ $message }}\",\n      \"check_name\": \"vale-error-report\",\n      \"fingerprint\": \"{{ $Base64Encoded }}\",\n      \"severity\": \"{{ $error }}\",\n      \"location\": {\n        \"path\": \"{{ $path }}\",\n        \"lines\": {\n          \"begin\": {{ $loc }}\n        }\n      }\n    }\n  {{- end -}}\n{{- end -}}\n]</code></pre> </li> <li> <p>Add the following entries to <code>.gitignore</code>:</p> <pre><code>.vale\ngl-code-quality-report.json</code></pre> </li> <li> <p>Commit the files to the local repository:</p> <pre><code>git add .\ngit commit -m \"Add GitLab CI/CD code quality pipeline\"</code></pre> </li> <li> <p>Push the changes to the remote repository:</p> <pre><code>git push -u origin main</code></pre> </li> </ol> <p>When you merge the changes to the main branch, a code quality pipeline will run for every new commit added in a merge request. The code quality report is available in the Merge Request Overview tab.</p> <p>Note</p> <p>The GitLab CI job creates the code quality report by comparing a complete list of errors in the main branch and a list of errors in the merge request branch. This might cause a CI bottleneck on large repositories with 1000s of files, but for small and medium repositories, the CI processing time is negligible.</p> Additional resources <ul> <li> <p>GitLab Code Quality</p> </li> </ul>"},{"location":"user-guide.html#using-vale-with-a-continuous-integration-service","title":"Using Vale with a continuous integration service","text":"<p>Consider using the Vale CLI with a continuous integration service when:</p> <ul> <li> <p>The goal is to measure or enforce the project compliance with the Style Guides.</p> </li> <li> <p>Using Vale GitHub Action is not an option.</p> </li> </ul> Prerequisites <ul> <li> <p>Installing Vale CLI</p> </li> <li> <p>Adding Vale configuration to a project</p> </li> <li> <p>Defining a Vale onboarding strategy</p> </li> </ul> Procedure <ol> <li> <p>Configure your continuous integration service to download the <code>vale</code> CLI, the <code>RedHat</code> style and the Vale configuration file by using a <code>download-vale.sh</code> script such as:</p> <pre><code>#!/bin/sh\n#\n# Copyright (c) 2021 Red Hat, Inc.\n# This program and the accompanying materials are made\n# available under the terms of the Eclipse Public License 2.0\n# which is available at https://www.eclipse.org/legal/epl-2.0/\n#\n# SPDX-License-Identifier: EPL-2.0\n#\nset -e\n\n# Download latest vale release\ngh release download --repo 'errata-ai/vale' --pattern '*Linux*.tar.gz'\ntar -xf vale*\n./vale -v\n\n# Download latest vale configuration from vale-at-red-hat\ncurl -Os https://raw.githubusercontent.com/redhat-documentation/vale-at-red-hat/master/.vale.ini\n\n# Download latest `RedHat` style\nmkdir .vale/styles || true\ncd .vale/styles\ngh release download --repo 'redhat-documentation/vale-at-red-hat' --pattern 'RedHat.zip'\nunzip RedHat.zip</code></pre> </li> <li> <p>Configure your continuous integration service to validate language changes by using a <code>validate-language-changes.sh</code> script such as:</p> <pre><code>#!/bin/sh\n#\n# Copyright (c) 2021 Red Hat, Inc.\n# This program and the accompanying materials are made\n# available under the terms of the Eclipse Public License 2.0\n# which is available at https://www.eclipse.org/legal/epl-2.0/\n#\n# SPDX-License-Identifier: EPL-2.0\n#\nset -e\n\nif [ -z \"${GITHUB_BASE_REF}\" ]\n    then \n        MAINBRANCH=\"origin/main\"\n    else\n        MAINBRANCH=\"origin/$GITHUB_BASE_REF\"\nfi\nFILES=$(git diff --name-only --diff-filter=AM \"$MAINBRANCH\" \"*.adoc\")\nif [ -n \"${FILES}\" ]\n    then\n        echo \"Validating languages on file added or modified in comparison to $MAINBRANCH with $(vale -v)\"\n        set -x\n        # shellcheck disable=SC2086 # We want to split on spaces\n        vale ${FILES}\n    else\n        echo \"No files added or modified in comparison to $MAINBRANCH\"\nfi</code></pre> </li> </ol> Additional resources <ul> <li> <p>Add Vale to your docs continuous integration (CI) service.</p> </li> </ul>"},{"location":"reference-guide.html","title":"Red Hat Style for Vale reference guide","text":""},{"location":"reference-guide.html#redhat-style","title":"Red Hat Style for Vale reference guide","text":"<p>Comprehensive reference documentation for all Vale rules included in the RedHat style. This guide provides detailed information about each rule, including what it checks, examples of violations, and how to resolve them. Use this guide to understand Vale alerts and learn the specific style requirements for Red Hat documentation.</p>"},{"location":"reference-guide.html#abbreviations","title":"Abbreviations","text":"<p>Do not use periods in all-uppercase abbreviations.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Periods with abbreviations, p. 5</p> </li> <li> <p>IBM Style Guide - Periods with abbreviations</p> </li> <li> <p><code>Abbreviations.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#case-sensitive-terms","title":"Case sensitive terms","text":"Alert level <p>error</p> <p>Use the correct spelling and case for these case sensitive terms.</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Glossary of terms and conventions</p> </li> <li> <p>IBM Style Guide (print) - Capitalization of computer-related terms, p. 20</p> </li> <li> <p>IBM Style Guide (print) - Appendix C. Word usage, p. 300</p> </li> <li> <p>IBM Style Guide - Capitalization of computer-related terms</p> </li> <li> <p>IBM Style Guide - Word usage</p> </li> <li> <p><code>CaseSensitiveTerms.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#conjunctions","title":"Conjunctions","text":"<p>Do not overuse beginning sentences with conjunctions.</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Conjunctions</p> </li> <li> <p><code>Conjunctions.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#conscious-language","title":"Conscious language","text":"<p>Use conscious language.</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Conscious language</p> </li> </ul>"},{"location":"reference-guide.html#contractions","title":"Contractions","text":"<p>Avoid contractions.</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Contractions</p> </li> </ul>"},{"location":"reference-guide.html#definitions","title":"Definitions","text":"<p>Define acronyms and abbreviations on first occurrence if they are likely to be unfamiliar.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Abbreviations, p. 1</p> </li> <li> <p>IBM Style Guide - Abbreviations</p> </li> <li> <p><code>Definitions.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#do-not-use-terms","title":"Do not use terms","text":"Alert level <p>Error</p> <p>Do not use error terms. Use the correct term as described in Red Hat Supplementary Style Guide (SSG).</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Glossary of terms and conventions</p> </li> <li> <p>IBM Style Guide (print) - Appendix C. Word usage, p. 300</p> </li> <li> <p>IBM Style Guide - Word usage</p> </li> <li> <p>DoNotUseTerms.yml source code</p> </li> </ul>"},{"location":"reference-guide.html#ellipses","title":"Ellipses","text":"<p>Avoid ellipsis (\u2026\u200b) except to indicate omitted words.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Ellipses, p. 49</p> </li> <li> <p>IBM Style Guide - Ellipses</p> </li> <li> <p><code>Ellipses.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#em-dashes","title":"Em dashes","text":"<p>Do not use em dashes. Use punctuation marks such as commas, parentheses, or colons instead.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Em dashes, p.48</p> </li> <li> <p>IBM Style Guide - Em dashes</p> </li> </ul>"},{"location":"reference-guide.html#heading-punctuation","title":"Heading punctuation","text":"<p>Do not use end punctuation in headings.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Periods in headings and titles, p. 61</p> </li> <li> <p>IBM Style Guide - Headings and titles</p> </li> <li> <p><code>HeadingPunctuation.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#headings","title":"Headings","text":"<p>Use sentence-style capitalization in headings.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Capitalization in headings and titles, p.16</p> </li> <li> <p>IBM Style Guide - Capitalization in headings, titles and banners</p> </li> <li> <p><code>Headings.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#hyphens","title":"Hyphens","text":"<p>In most cases, do not use a hyphen to connect a prefix to a word.</p> <p>Note</p> <p>To determine whether to hyphenate, consult the Red Hat supplementary style guide for product documentation, the Word usage list and Hyphens sections in IBM Style, and the Merriam-Webster dictionary.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Prefixes and suffixes, p.80</p> </li> <li> <p>IBM Style Guide - Hyphens</p> </li> <li> <p><code>Hyphens.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#merge-conflict-markers","title":"Merge conflict markers","text":"<p>Do not include Git merge conflict markers in source code. For example, <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code>.</p> Additional resources <ul> <li> <p>Resolving a merge conflict using the command line</p> </li> </ul>"},{"location":"reference-guide.html#oxford-comma","title":"Oxford comma","text":"<p>Use the Oxford comma.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Commas between clauses, p.45</p> </li> <li> <p>IBM Style Guide - Commas between clauses</p> </li> <li> <p><code>OxfordComma.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#pascal-case-and-camel-case","title":"Pascal case and Camel case","text":"<p>Consider wrapping Pascal case or Camel case API resources, system items, daemons, or service names in backticks.</p> Additional resources <ul> <li> <p>Pascal case and Camel case Vale rule</p> </li> <li> <p>AsciiDoc Mark-up Quick Reference for Red Hat Documentation</p> </li> <li> <p>Camel case</p> </li> <li> <p><code>PascalCamelCase.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#passive-voice","title":"Passive Voice","text":"<p>Avoid the passive voice where possible. Active voice focuses on the performer of the action and is often clearer, shorter, and more direct than the passive voice.</p> <p>According to the IBM Style Guide, the passive voice is acceptable in the following situations:</p> <ul> <li> <p>When the system performs the action</p> </li> <li> <p>When it is more appropriate to focus on the receiver of the action</p> </li> <li> <p>When you want to avoid blaming the user for an error, such as in an error message</p> </li> <li> <p>When the information is clearer in the passive voice</p> </li> <li> <p>When the information requires the passive voice, for example, glossary definitions</p> </li> </ul> <p>According to the Red Hat supplementary style guide for product documentation, you can use the passive voice in prerequisites.</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Prerequisites</p> </li> <li> <p>IBM Style Guide (print) - Voice, p.35</p> </li> <li> <p>IBM Style Guide - Voice</p> </li> <li> <p><code>PassiveVoice.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#product-centric-writing","title":"Product-centric writing","text":"<p>Do not use product-centric writing to grant abilities to inanimate objects. Where possible, make the user the subject of the sentence.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Anthropomorphism, p. 44</p> </li> <li> <p>IBM Style Guide - Anthropomorphism</p> </li> <li> <p><code>ProductCentricWriting.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#readability-grade","title":"Readability grade","text":"<p>Try to write paragraphs that have a calculated Flesch\u2013Kincaid grade level below the recommended value of 9.</p> Additional resources <ul> <li> <p>Flesch\u2013Kincaid readability tests</p> </li> <li> <p>Vale documentation - <code>metric</code> extension point</p> </li> <li> <p><code>ReadabilityGrade.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#release-notes","title":"Release notes","text":"<p>For release notes, consider using <code>Before this update</code> or <code>With this update</code>.</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Release notes</p> </li> <li> <p><code>ReleaseNotes.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#repeated-words","title":"Repeated words","text":"<p>Small words such as \"and\" or \"the\" get duplicated easily, especially when shuffling sentence parts around or adding line breaks.</p> Additional resources <ul> <li> <p><code>RepeatedWords.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#self-referential-text","title":"Self-referential text","text":"<p>Avoid using self-referential text such as <code>This chapter</code> or <code>This module</code>.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Audience and medium, p. 22</p> </li> <li> <p><code>SelfReferentialText.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#sentence-length","title":"Sentence length","text":"<p>Try to keep sentences to an average of 32 words or fewer, and vary sentence lengths.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Conversational style</p> </li> <li> <p>IBM Style Guide - Conversational style</p> </li> <li> <p><code>SentenceLength.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#simple-words","title":"Simple words","text":"<p>Use simple verbs and tenses. Use simple language.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Conversational style</p> </li> <li> <p>IBM Style Guide - Conversational style</p> </li> <li> <p>Plain language - Simple words</p> </li> <li> <p><code>SimpleWords.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#slash","title":"Slash","text":"<p>Use either <code>or</code> or <code>and</code> rather than a slash (<code>/</code>).</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Slashes, p. 68</p> </li> <li> <p>IBM Style Guide - Slashes</p> </li> <li> <p><code>Slash.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#smart-quotation-marks","title":"Smart quotation marks","text":"<p>Do not use smart quotation marks (<code>\u2018</code>, <code>\u2019</code>, <code>\u201f</code>, <code>\u2033</code>, <code>\u2036</code>) in original body copy. Use straight quotation marks.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Typographical considerations</p> </li> <li> <p>IBM Style Guide - Typographical considerations</p> </li> <li> <p><code>SmartQuotes.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#spacing","title":"Spacing","text":"<p>Keep one space between words.</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation</p> </li> <li> <p><code>Spacing.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#spelling","title":"Spelling","text":"<p>Use correct American English spelling.</p> Additional resources <ul> <li> <p>Merriam Webster dictionary</p> </li> <li> <p>Creating a vocabulary for a project</p> </li> <li> <p><code>Spelling.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#symbols","title":"Symbols","text":"<p>Do not use ampersands (<code>&amp;</code>) or exclamation marks (<code>!</code>) in original body copy.</p> Additional resources <ul> <li> <p>https://redhat-documentation.github.io/supplementary-style-guide/#_symbols</p> </li> <li> <p><code>Symbols.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#terms-errors","title":"Error terms","text":"Alert level <p>Error</p> <p>Do not use error terms. Use the correct term as described in Red Hat Supplementary Style Guide (SSG).</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Glossary of terms and conventions</p> </li> <li> <p>IBM Style Guide (print) - Appendix C. Word usage, p. 300</p> </li> <li> <p>IBM Style Guide - Word usage</p> </li> <li> <p><code>TermsErrors.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#terms-suggestions","title":"Suggestion terms","text":"Alert level <p>Suggestion</p> <p>Depending on the context, consider using the suggested term as described in Red Hat Supplementary Style Guide (SSG).</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Glossary of terms and conventions</p> </li> <li> <p>IBM Style Guide (print) - Appendix C. Word usage, p. 300</p> </li> <li> <p>IBM Style Guide - Word usage</p> </li> <li> <p><code>TermsSuggestions.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#terms-warnings","title":"Warning terms","text":"Alert level <p>Warning</p> <p>Use the correct term as described in Red Hat Supplementary Style Guide (SSG), unless updating existing content that uses the term.</p> Additional resources <ul> <li> <p>Red Hat supplementary style guide for product documentation - Glossary of terms and conventions</p> </li> <li> <p>IBM Style Guide (print) - Appendix C. Word usage, p. 300</p> </li> <li> <p>IBM Style Guide - Word usage</p> </li> <li> <p><code>TermsWarnings.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#user-replaced-values","title":"User-replaced values","text":"<p>Ensure that user-replaced values have the following characteristics:</p> <ul> <li> <p>Surrounded by angle brackets (<code>&lt; &gt;</code>)</p> </li> <li> <p>Separated by underscores (<code>_</code>) for multi-word values</p> </li> <li> <p>Lowercase, unless the rest of the related text is uppercase or another capitalization scheme</p> </li> <li> <p>Italicized</p> </li> <li> <p>If the user-replaced value is referencing a value in code or in a command that is normally monospace, also use monospace for the user-replaced value</p> </li> </ul> Additional resources <ul> <li> <p>User-replaced values</p> </li> <li> <p><code>UserReplacedValues.yml</code> source code</p> </li> </ul>"},{"location":"reference-guide.html#by-using","title":"By using","text":"<p>To avoid ambiguity, replace 'using' with either 'by using' or 'that uses'. Do not omit articles and prepositions that can increase the clarity of a sentence.</p> Additional resources <ul> <li> <p>IBM Style Guide (print) - Grammar, p. 239</p> </li> <li> <p>IBM Style Guide - Word usage</p> </li> <li> <p>IBM Style Guide - Grammar</p> </li> <li> <p><code>Using.yml</code> source code</p> </li> </ul>"}]}